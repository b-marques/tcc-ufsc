%% intro.tex
%%
%% Copyright 2017 Evandro Coan
%% Copyright 2012-2016 by abnTeX2 group at http://www.abntex.net.br/
%%
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either version 1.3
%% of this license or (at your option) any later version.
%% The latest version of this license is in
%%   http://www.latex-project.org/lppl.txt
%% and version 1.3 or later is part of all distributions of LaTeX
%% version 2005/12/01 or later.
%%
%% This work has the LPPL maintenance status `maintained'.
%% The Current Maintainer of this work is the Evandro Coan.
%%
%% The last Maintainer of this work was the abnTeX2 team, led
%% by Lauro César Araujo. Further information are available on
%% https://www.abntex.net.br/
%%
%% This work consists of a bunch of files. But originally there ware 3 files
%% which are renamed as follows:
%% Renamed the `abntex2-modelo-include-comandos` to `chapters/chapter_1.tex`
%% Renamed the `abntex2-modelo-trabalho-academico.tex` to `chapters/intro.tex`
%% Renamed the `abntex2-modelo-references.bib` to `aftertext/modelo-ufsc-references.bib`
%%
%% This file was originally the main template file, however this main file was
%% split into several new files, which are respectively drastically changed,
%% except this files which contains most of the main documentation message.
%%

% ------------------------------------------------------------------------
% ------------------------------------------------------------------------
% abnTeX2: Modelo de Trabalho Academico (tese de doutorado, dissertacao de
% mestrado e trabalhos monograficos em geral) em conformidade com
% ABNT NBR 14724:2011: Informacao e documentacao - Trabalhos academicos -
% Apresentacao
% ------------------------------------------------------------------------
% ------------------------------------------------------------------------


% The \phantomsection command is needed to create a link to a place in the document that is not a
% figure, equation, table, section, subsection, chapter, etc.
%
% When do I need to invoke \phantomsection?
% https://tex.stackexchange.com/questions/44088/when-do-i-need-to-invoke-phantomsection
\phantomsection


% Is it possible to keep my translation together with original text?
% https://tex.stackexchange.com/questions/5076/is-it-possible-to-keep-my-translation-together-with-original-text
\chapter{Introdução}
\label{cap:introducao}
\phantomsection




Até a última década, o desempenho das arquiteturas utilizadas na área de \textit{High Performance Computing} (\hpc) tem sido quase exclusivamente quantificado pelo seu poder de processamento. No entanto, a eficiência energética está sendo considerada recentemente tão importante quanto o desempenho e tornou-se um aspecto crítico para o desenvolvimento de sistemas escaláveis~\cite{francesquini:hal-01092325}. Portanto, a pesquisa e o desenvolvimento científico nesta área com enfoque na redução do consumo de energia têm se tornado de extrema importância para o avanço tecnológico.

Assim, é notório o surgimento de uma nova classe de processadores, os denominados processadores \manycore, com mais de centenas de núcleos de processamento e de baixo consumo de energia, capazes de lidar com o paralelismo de dados e tarefas, como o \mppa~\cite{castro2013}. 
Apesar dos benefícios oriundos dos processadores \manycore, o uso deles traz desafios para a programação de aplicações paralelas devido às suas características arquiteturais~\cite{castro:hal-01273153}. Uma das formas de simplificar o desenvolvimento de aplicações paralelas, abstraindo os detalhes arquiteturais e de programação de baixo nível, é através da utilização de padrões paralelos ou esqueletos algorítimicos~\cite{COLE2004389}.

Um destes padrões é denominado estêncil. Este padrão consiste em varrer os elementos de um dado \textit{array} de entrada de \textit{n}-dimensões, e modificar o valor de cada elemento com base nos valores dos elementos vizinhos, produzindo assim um \textit{array} de saída de \textit{n}-dimensões com valores modificados. Além disso, essa etapa de varredura e modificação de valores pode ser realizada iterativamente, na qual o \textit{array} de saída de uma iteração, será o \textit{array} de entrada da iteração seguinte. É válido destacar que muitos destes padrões estão presentes nas mais diversas áreas do conhecimento, como física, matemática, processamento de imagens, entre outros~\cite{Holewinski:2012:HCG:2304576.2304619}.

Dentre os \fws propostos, o \pskel se destaca por prover uma abstração para ambientes heterogêneos de programação, que contam com a presença de processadores \multicore e placas gráficas. Além disso, foram observados ganhos na performance média de até 76\% quando comparado com aplicações paralelas que utilizavam apenas \textit{Central Processing Unit} (\cpu)~\cite{CPE:CPE3479}.

Com a necessidade e importância de cunho científico do desenvolvimento de aplicações paralelas nos processadores \manycore, foi proposta uma adaptação do \fw \pskel para que ele dê suporte ao processador \mppa. Os resultados obtidos com o \pskel no \mppa foram promissores, apresentando uma redução no consumo energético de aplicações estêncil quando comparado  com execuções em um processador de alto desempenho Intel Broadwell~\cite{wscad2017}.

Todavia, foi observado que o tempo desperdiçado na comunicação das aplicações do \mppa é elevado e impacta diretamente nos testes e experimentos realizados. A comunicação ocorre através de \textit{Networks-on-Chip} (NoCs) de dados e de controle. Decorrente desta estrutura, o atraso de comunicação entre elementos fisicamente mais distantes na rede será maior do que elementos mais próximos.

Além disso, a atual \textit{Application Programming Interface} (\api) de comunicação utilizada no \pskel para o \mppa é similar ao modelo clássico POSIX de baixo nível para \textit{Inter-Process Communication} (IPC), o que dificulta o desenvolvimento de rotinas de comunicação e expõe essas rotinas a possíveis perdas de desempenho não trivialmente detectáveis. A nova API de comunicação assíncrona desenvolvida e disponibilizada pelos desenvolvedores do processador eleva o nível de abstração dessas rotinas de comunicação com implementações otimizadas para o processador, acarretando em maior robustez e desempenho na utilização da NoC. Com isso, nota-se a importância da revisão e estudo da implementação atual da adaptação do \fw \pskel para o \mppa, visando encontrar espaços para otimização e ganho de desempenho que impactarão diretamente no gasto energético do processador, que já se mostrou promissor quando comparado ao Intel Broadwell. 
% ---------------------------------

% ---------------------------------
\section{Objetivos}
\label{sec:objetivos}

\subsection{Objetivo Geral}
\label{subsec:objetivos-gerais}

À medida que se reduz o número de comunicações e sincronizações, através do aumento do número de elementos processados a cada iteração de uma aplicação de computação estêncil no \mppa, é observada a queda no tempo de sua execução e, por consequência, a redução do consumo de energia~\cite{wscad2017}. Uma vez identificado que os gastos de comunicação são fatores relevantes para a influência do consumo de energia e tempo de execução das aplicações, este \textit{Trabalho de Conclusão de Curso} tem como objetivo geral propor otimizações na comunicação de dados para o \fw \pskel adaptado para o \mppa, visando o ganho de desempenho e redução de consumo de energia pelas aplicações paralelas de padrão estêncil no \mppa.

\subsection{Objetivos Específicos}
\label{subsec:objetivos-especificos}

Os objetivos específicos deste trabalho são: 

\begin{enumerate}
\item Estudar a nova API de comunicação assíncrona disponibilizada pelo fabricante do processador e realizar as modificações de código necessárias no \pskel para fazer uso da mesma;
\item Propor e implementar otimizações na comunicação e na distribuição de dados entre os elementos de processamento, a fim de obter ganhos de desempenho e reduzir o consumo de energia;
\item Realizar experimentos com aplicações estêncil para medir o desempenho e a eficiência energética das otimizações propostas, comparando resultados obtidos com outros processadores \multicore e processadores gráficos.
\end{enumerate}